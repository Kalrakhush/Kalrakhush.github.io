<!DOCTYPE html>
<html lang="en" class="light">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Khushpreet Singh | AI Engineer</title>
    <meta name="description" content="AI Engineer specializing in LLMs, RAG, and MLOps." />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Manrope:wght@200;300;400;500;600;700;800&family=JetBrains+Mono:wght@300;400;500&display=swap"
        rel="stylesheet">

    <!-- Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.29/bundled/lenis.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Manrope', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    colors: {
                        border: "var(--border)",
                        background: "var(--background)",
                        foreground: "var(--foreground)",
                        card: "var(--card)",
                        "card-foreground": "var(--card-foreground)",
                        primary: "var(--primary)",
                        "primary-foreground": "var(--primary-foreground)",
                        muted: "var(--muted)",
                        "muted-foreground": "var(--muted-foreground)",
                        accent: "var(--accent)",
                    },
                    animation: {
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    }
                }
            }
        }
    </script>

    <style>
        :root {
            --background: #ffffff;
            --foreground: #09090b;
            --card: #ffffff;
            --card-foreground: #09090b;
            --primary: #18181b;
            --primary-foreground: #fafafa;
            --muted: #f4f4f5;
            --muted-foreground: #71717a;
            --border: #e4e4e7;
            --accent: #3b82f6;
            /* Blue */
            --radius: 1.5rem;
        }

        .dark {
            --background: #09090b;
            --foreground: #fafafa;
            --card: #18181b;
            /* Zinc-900 */
            --card-foreground: #fafafa;
            --primary: #fafafa;
            --primary-foreground: #18181b;
            --muted: #27272a;
            --muted-foreground: #a1a1aa;
            --border: #27272a;
            --accent: #60a5fa;
        }

        body {
            background-color: var(--background);
            color: var(--foreground);
            transition: background-color 0.5s ease, color 0.5s ease;
        }

        #canvas-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.6;
            pointer-events: none;
        }

        .bg-grid {
            background-size: 40px 40px;
            background-image: radial-gradient(circle, var(--muted-foreground) 1px, transparent 1px);
            opacity: 0.1;
            mask-image: linear-gradient(to bottom, black 40%, transparent 100%);
        }

        .bento-card {
            background-color: var(--card);
            color: var(--card-foreground);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            overflow: hidden;
            position: relative;
            transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
            cursor: pointer;
        }

        .bento-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 24px -10px rgba(0, 0, 0, 0.1);
            border-color: var(--accent);
        }

        .dark .bento-card:hover {
            box-shadow: 0 12px 24px -10px rgba(0, 0, 0, 0.5);
        }

        .status-dot {
            width: 8px;
            height: 8px;
            background-color: #10b981;
            border-radius: 50%;
            box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7);
            animation: pulse-green 2s infinite;
        }

        @keyframes pulse-green {
            0% {
                transform: scale(0.95);
                box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7);
            }

            70% {
                transform: scale(1);
                box-shadow: 0 0 0 6px rgba(16, 185, 129, 0);
            }

            100% {
                transform: scale(0.95);
                box-shadow: 0 0 0 0 rgba(16, 185, 129, 0);
            }
        }

        [contenteditable="true"]:focus {
            outline: 2px dashed var(--accent);
            outline-offset: 4px;
            border-radius: 4px;
        }

        /* Spotlight Square */
        .spotlight-square {
            position: relative;
            background: var(--card);
            overflow: hidden;
        }

        .spotlight-reveal-layer {
            position: absolute;
            inset: 0;
            background: var(--accent);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 2rem;
            mask-image: radial-gradient(circle 150px at var(--x, -1000px) var(--y, -1000px), black 0%, transparent 100%);
            -webkit-mask-image: radial-gradient(circle 150px at var(--x, -1000px) var(--y, -1000px), black 0%, transparent 100%);
            transition: mask-position 0s;
            pointer-events: none;
        }

        .spotlight-base-layer {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
            width: 100%;
            padding: 2rem;
            text-align: center;
        }

        /* Detail Overlay */
        #detail-overlay {
            position: fixed;
            inset: 0;
            background: var(--background);
            z-index: 100;
            transform: translateY(100%);
            transition: transform 0.6s cubic-bezier(0.16, 1, 0.3, 1);
            overflow-y: auto;
            padding-bottom: 5rem;
        }

        #detail-overlay.open {
            transform: translateY(0);
        }

        .detail-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 4rem 2rem;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        }

        #detail-overlay.open .detail-container {
            opacity: 1;
            transform: translateY(0);
        }

        .close-btn {
            position: fixed;
            top: 2rem;
            right: 2rem;
            z-index: 110;
            background: var(--card);
            border: 1px solid var(--border);
            padding: 1rem;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .close-btn:hover {
            background: var(--accent);
            color: white;
            border-color: var(--accent);
        }

        .back-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 2rem;
            color: var(--muted-foreground);
            font-weight: 500;
            transition: color 0.2s;
            cursor: pointer;
        }

        .back-btn:hover {
            color: var(--accent);
        }

        html.lenis {
            height: auto;
        }

        .lenis.lenis-smooth {
            scroll-behavior: auto;
        }

        .lenis.lenis-smooth [data-lenis-prevent] {
            overscroll-behavior: contain;
        }

        .lenis.lenis-stopped {
            overflow: hidden;
        }

        /* Profile Picture Animations */
        @keyframes float {

            0%,
            100% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-10px);
            }
        }

        @keyframes glow-pulse {

            0%,
            100% {
                box-shadow: 0 0 20px rgba(59, 130, 246, 0.4),
                    0 0 40px rgba(59, 130, 246, 0.2),
                    0 0 60px rgba(59, 130, 246, 0.1);
            }

            50% {
                box-shadow: 0 0 30px rgba(59, 130, 246, 0.6),
                    0 0 50px rgba(59, 130, 246, 0.3),
                    0 0 80px rgba(59, 130, 246, 0.2);
            }
        }

        @keyframes rotate-gradient {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .profile-avatar {
            position: relative;
            animation: float 3s ease-in-out infinite;
        }

        .profile-avatar::before {
            content: '';
            position: absolute;
            inset: -3px;
            border-radius: 50%;
            background: linear-gradient(45deg, #3b82f6, #8b5cf6, #ec4899, #f59e0b, #3b82f6);
            background-size: 300% 300%;
            animation: glow-pulse 2s ease-in-out infinite, rotate-gradient 4s ease infinite;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .profile-avatar:hover::before {
            opacity: 1;
        }

        .profile-avatar img {
            transition: transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .profile-avatar:hover img {
            transform: scale(1.05) rotate(5deg);
        }

        .dark .profile-avatar::before {
            background: linear-gradient(45deg, #60a5fa, #a78bfa, #f472b6, #fbbf24, #60a5fa);
            background-size: 300% 300%;
        }
    </style>
</head>

<body class="antialiased selection:bg-accent selection:text-white">

    <div class="fixed inset-0 bg-grid pointer-events-none z-0"></div>
    <div id="canvas-container"></div>

    <!-- DETAIL OVERLAY -->
    <div id="detail-overlay">
        <button class="close-btn" onclick="closeDetail()">
            <i data-lucide="x" class="w-6 h-6"></i>
        </button>
        <div class="detail-container" id="detail-content">
            <!-- Injected via JS -->
        </div>
    </div>

    <!-- LEFT SIDEBAR -->
    <aside
        class="fixed inset-y-0 left-0 z-50 w-20 lg:w-80 border-r border-border bg-background/80 backdrop-blur-xl transition-all duration-300 flex flex-col py-8 px-4 lg:px-8">
        <div class="flex flex-col items-center lg:items-start mb-12">
            <div
                class="profile-avatar w-12 h-12 lg:w-24 lg:h-24 rounded-full overflow-hidden ring-2 ring-border mb-4 group cursor-pointer">
                <img src="pic.jpg" alt="Khushpreet Singh Profile" class="w-full h-full object-cover" />
                <div
                    class="absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center">
                    <i data-lucide="camera" class="text-white w-4 h-4 lg:w-6 lg:h-6"></i>
                </div>
            </div>
            <div class="hidden lg:block">
                <h2 class="font-bold text-lg tracking-tight" contenteditable="true">Khushpreet Singh</h2>
                <p class="text-xs text-muted-foreground font-mono" contenteditable="true">AI Engineer</p>
            </div>
        </div>

        <nav class="flex-1 w-full space-y-2 flex flex-col items-center lg:items-start">
            <a href="#home"
                class="w-full group flex items-center gap-4 p-3 rounded-xl hover:bg-muted text-muted-foreground hover:text-foreground transition-all">
                <i data-lucide="home" class="w-5 h-5 group-hover:text-accent transition-colors"></i>
                <span class="hidden lg:block font-medium text-sm">Home Base</span>
            </a>
            <a href="#work"
                class="w-full group flex items-center gap-4 p-3 rounded-xl hover:bg-muted text-muted-foreground hover:text-foreground transition-all">
                <i data-lucide="layers" class="w-5 h-5 group-hover:text-accent transition-colors"></i>
                <span class="hidden lg:block font-medium text-sm">Selected Work</span>
            </a>
            <a href="#experience-section"
                class="w-full group flex items-center gap-4 p-3 rounded-xl hover:bg-muted text-muted-foreground hover:text-foreground transition-all">
                <i data-lucide="briefcase" class="w-5 h-5 group-hover:text-accent transition-colors"></i>
                <span class="hidden lg:block font-medium text-sm">Experience</span>
            </a>
            <a href="#about"
                class="w-full group flex items-center gap-4 p-3 rounded-xl hover:bg-muted text-muted-foreground hover:text-foreground transition-all">
                <i data-lucide="cpu" class="w-5 h-5 group-hover:text-accent transition-colors"></i>
                <span class="hidden lg:block font-medium text-sm">Tech Stack</span>
            </a>
        </nav>

        <div class="w-full flex flex-col gap-4 items-center lg:items-start pt-8 border-t border-border">
            <button id="theme-toggle"
                class="flex items-center gap-3 text-sm font-medium text-muted-foreground hover:text-foreground transition-colors">
                <div class="p-2 rounded-full bg-muted group-hover:bg-accent/10">
                    <i data-lucide="moon" class="w-4 h-4 hidden dark:block"></i>
                    <i data-lucide="sun" class="w-4 h-4 block dark:hidden"></i>
                </div>
                <span class="hidden lg:block">Toggle Theme</span>
            </button>
            <div class="hidden lg:flex gap-4 mt-2">
                <a href="https://github.com/Kalrakhush"
                    class="text-muted-foreground hover:text-accent transition-colors"><i data-lucide="github"
                        class="w-4 h-4"></i></a>
                <a href="https://linkedin.com/in/khushpreets016"
                    class="text-muted-foreground hover:text-accent transition-colors"><i data-lucide="linkedin"
                        class="w-4 h-4"></i></a>
            </div>
        </div>
    </aside>

    <!-- MAIN CONTENT -->
    <main
        class="pl-20 lg:pl-96 pr-4 sm:pr-8 py-12 lg:py-20 max-w-[1600px] mx-auto relative z-10 min-h-screen flex flex-col justify-center">

        <!-- HERO -->
        <section id="home" class="mb-32">
            <div class="space-y-8 max-w-3xl lg:pl-8">
                <div class="flex items-center gap-3">
                    <div class="status-dot"></div>
                    <span class="text-xs font-mono font-medium text-muted-foreground uppercase tracking-wider"
                        contenteditable="true">Available for Hire</span>
                </div>
                <h1 class="text-5xl sm:text-6xl lg:text-7xl font-bold tracking-tight leading-[1.1]"
                    contenteditable="true">
                    AI <br />
                    <span class="text-muted-foreground">Engineer.</span>
                </h1>
                <p class="text-lg text-muted-foreground max-w-md leading-relaxed" contenteditable="true">
                    I build intelligent systems. Specializing in <span class="text-foreground font-medium">LLM
                        Orchestration</span>, <span class="text-foreground font-medium">RAG Pipelines</span>, and
                    scalable <span class="text-foreground font-medium">ML Infrastructure</span>.
                </p>
                <div class="flex gap-4">
                    <a href="#work"
                        class="group bg-primary text-primary-foreground px-6 py-3 rounded-full font-medium text-sm hover:opacity-90 transition-opacity flex items-center">
                        View Projects <i data-lucide="arrow-right"
                            class="w-4 h-4 ml-2 transition-transform group-hover:translate-x-1"></i>
                    </a>
                    <a href="Khushpreet Resume-up.pdf" target="_blank"
                        class="bg-muted text-foreground px-6 py-3 rounded-full font-medium text-sm hover:bg-muted/80 transition-colors border border-border">
                        Download CV
                    </a>
                </div>
            </div>
        </section>

        <!-- WORK SECTION -->
        <section id="work" class="mb-32">
            <div class="flex justify-between items-end mb-8">
                <div>
                    <h2 class="text-3xl font-bold tracking-tight" contenteditable="true">Selected Work</h2>
                    <p class="text-muted-foreground mt-2" contenteditable="true">Production-grade AI systems & Research.
                    </p>
                </div>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 auto-rows-[minmax(180px,auto)]" id="projects-grid">
                <!-- JS Injected Content -->
            </div>
        </section>

        <!-- EXPERIENCE SECTION -->
        <section id="experience-section" class="mb-32">
            <h2 class="text-3xl font-bold tracking-tight mb-8">Professional Timeline</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6" id="experience-grid">
                <!-- JS Injected Content -->
            </div>
        </section>

        <!-- FOOTER -->
        <footer class="border-t border-border pt-12 pb-8">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">
                <div>
                    <h2 class="text-3xl font-bold tracking-tight mb-4" contenteditable="true">Ready to collaborate?</h2>
                    <p class="text-muted-foreground max-w-sm" contenteditable="true">
                        Open to remote and relocation opportunities. Let's build the next generation of AI.
                    </p>
                </div>
                <div class="flex flex-col gap-4 items-start md:items-end">
                    <a href="mailto:khushpreets016@gmail.com"
                        class="text-2xl font-mono hover:text-accent transition-colors border-b border-transparent hover:border-accent">
                        khushpreets016@gmail.com
                    </a>
                    <div class="flex gap-6 mt-2">
                        <a href="https://linkedin.com/in/khushpreets016"
                            class="text-muted-foreground hover:text-foreground transition-colors">LinkedIn</a>
                        <a href="https://github.com/Kalrakhush"
                            class="text-muted-foreground hover:text-foreground transition-colors">GitHub</a>
                    </div>
                </div>
            </div>
            <div class="flex justify-between items-center text-xs text-muted-foreground font-mono">
                <div>Â© 2025 KHUSHPREET SINGH</div>
                <div>SYSTEM_STATUS: ONLINE</div>
            </div>
        </footer>

    </main>

    <script>
        // =========================================
        // 1. PORTFOLIO DATA
        // =========================================
        const portfolioData = {
            projects: [
                {
                    id: "rag",
                    title: "Intelligent Document Q&A System",
                    desc: "Production RAG pipeline serving 500+ users with 60% faster query responses. Handles budget & legal document queries.",
                    tags: ["LlamaIndex", "OpenAI GPT-4", "Pinecone", "FastAPI"],
                    icon: "message-square-code",
                    class: "md:col-span-2 md:row-span-2",
                    img: "images/doc-qa.jpg",
                    gradient: "from-blue-500 to-cyan-500",
                    details: `
                        <h3 class="text-2xl font-bold mb-4">Project Overview</h3>
                        <p class="text-lg text-muted-foreground leading-relaxed mb-8">Developed a production-grade Retrieval-Augmented Generation (RAG) system enabling users to query complex budget-related and legal documents. The system assists 500+ users in financial and legislative research with near-instant responses.</p>
                        <h3 class="text-xl font-bold mb-4">Technical Highlights</h3>
                        <ul class="list-disc list-inside space-y-2 text-muted-foreground text-lg">
                            <li>Architected <strong>LlamaIndex</strong> pipeline for efficient document indexing and chunking.</li>
                            <li>Achieved <strong>60% reduction</strong> in query response time via optimized vector search.</li>
                            <li>Integrated <strong>OpenAI GPT-4</strong> for advanced NLP query understanding and generation.</li>
                            <li>Deployed scalable microservices using <strong>FastAPI</strong> and <strong>Docker</strong> containers.</li>
                            <li>Implemented semantic search with <strong>Pinecone</strong> vector database for sub-second retrieval.</li>
                        </ul>`
                },
                {
                    id: "voicebot",
                    title: "Conversational Voice AI Platform",
                    desc: "Multi-turn voice bot with continuous conversation context. Handles complex financial queries with 95% intent accuracy.",
                    tags: ["OpenAI Whisper", "GPT-4", "WebRTC", "FastAPI"],
                    icon: "mic",
                    class: "md:col-span-2",
                    img: "images/voicebot.jpg",
                    gradient: "from-indigo-500 to-purple-600",
                    details: `
                        <h3 class="text-2xl font-bold mb-4">Project Overview</h3>
                        <p class="text-lg text-muted-foreground leading-relaxed mb-8">Built an enterprise-grade conversational AI platform with continuous call experience, enabling seamless multi-turn conversations for financial services.</p>
                        <ul class="list-disc list-inside space-y-2 text-muted-foreground text-lg">
                            <li>Integrated <strong>OpenAI Whisper</strong> for real-time speech-to-text conversion.</li>
                            <li>Designed context-aware conversation flow with <strong>GPT-4</strong> for natural dialogue.</li>
                            <li>Achieved <strong>95% intent accuracy</strong> on complex financial queries.</li>
                            <li>Implemented <strong>WebRTC</strong> for low-latency audio streaming.</li>
                            <li>Built robust error handling and fallback mechanisms for production reliability.</li>
                        </ul>`
                },
                {
                    id: "agri",
                    title: "AgriGuide: ML-Powered Crop Intelligence",
                    desc: "Published research on ensemble ML models achieving 88% accuracy in crop yield prediction and disease detection.",
                    tags: ["Scikit-Learn", "XGBoost", "Flask", "React"],
                    icon: "sprout",
                    class: "",
                    img: "images/agriguide.jpg",
                    gradient: "from-green-500 to-emerald-500",
                    details: `
                        <h3 class="text-2xl font-bold mb-4">Research Summary</h3>
                        <p class="text-lg text-muted-foreground leading-relaxed mb-8">Published academic research on an AI-powered agricultural intelligence system that analyzes soil nutrient data, meteorological patterns, and crop health indicators to suggest optimal crops and predict disease outbreaks.</p>
                        <ul class="list-disc list-inside space-y-2 text-muted-foreground text-lg">
                            <li>Achieved <strong>88% accuracy</strong> in crop yield prediction using ensemble methods.</li>
                            <li>Integrated real-time meteorological data APIs for dynamic predictions.</li>
                            <li>Built full-stack web application with <strong>React</strong> frontend and <strong>Flask</strong> backend.</li>
                            <li>Implemented feature engineering pipeline for soil and weather data.</li>
                        </ul>`
                },
                {
                    id: "sentiment",
                    title: "Efficient BERT Fine-Tuning with QLoRA",
                    desc: "Optimized sentiment analysis model reducing size by 50% while improving F1-score on neutral class classification.",
                    tags: ["HuggingFace", "PyTorch", "QLoRA", "PEFT"],
                    icon: "brain-circuit",
                    class: "",
                    img: "images/sentiment.jpg",
                    gradient: "from-purple-500 to-pink-500",
                    details: `
                        <h3 class="text-2xl font-bold mb-4">Project Overview</h3>
                        <p class="text-lg text-muted-foreground leading-relaxed mb-8">Fine-tuned a BERT-based sentiment analysis model using QLoRA (Quantized Low-Rank Adaptation) to improve classification accuracy, particularly for neutral reviews, while significantly reducing computational requirements.</p>
                        <ul class="list-disc list-inside space-y-2 text-muted-foreground text-lg">
                            <li>Optimized LoRA adapters using <strong>PEFT</strong> library for efficient parameter tuning.</li>
                            <li>Reduced model size by <strong>50%</strong> through quantization techniques.</li>
                            <li>Achieved <strong>15% improvement</strong> in F1-score for neutral sentiment classification.</li>
                            <li>Enabled deployment on resource-constrained environments without performance degradation.</li>
                        </ul>`
                },
                {
                    id: "invoice-ai",
                    title: "Intelligent Invoice Processing AI",
                    desc: "Automated PDF invoice extraction and data structuring using OCR and NLP. Processes 1000+ invoices/hour.",
                    tags: ["Tesseract OCR", "spaCy", "PyPDF2", "PostgreSQL"],
                    icon: "file-text",
                    class: "",
                    img: "images/invoice.jpg",
                    gradient: "from-orange-500 to-red-500",
                    details: `
                        <h3 class="text-2xl font-bold mb-4">Project Overview</h3>
                        <p class="text-lg text-muted-foreground leading-relaxed mb-8">Developed an AI-powered invoice processing system that automatically extracts structured data from PDF invoices, reducing manual data entry by 90%.</p>
                        <ul class="list-disc list-inside space-y-2 text-muted-foreground text-lg">
                            <li>Integrated <strong>Tesseract OCR</strong> for text extraction from scanned documents.</li>
                            <li>Used <strong>spaCy</strong> NLP models for entity recognition and data structuring.</li>
                            <li>Achieved <strong>95% accuracy</strong> in field extraction across diverse invoice formats.</li>
                            <li>Processes <strong>1000+ invoices per hour</strong> with automated validation.</li>
                            <li>Built RESTful API for seamless integration with existing systems.</li>
                        </ul>`
                },
                {
                    id: "mlops",
                    title: "MLOps Pipeline with CI/CD",
                    desc: "Automated ML pipeline reducing deployment time by 70%. Includes model versioning, monitoring, and A/B testing.",
                    tags: ["MLflow", "Docker", "Kubernetes", "GitHub Actions"],
                    icon: "git-branch",
                    class: "",
                    img: "images/mlops.jpg",
                    gradient: "from-teal-500 to-cyan-600",
                    details: `
                        <h3 class="text-2xl font-bold mb-4">Project Overview</h3>
                        <p class="text-lg text-muted-foreground leading-relaxed mb-8">Designed and implemented a comprehensive MLOps pipeline enabling automated model training, versioning, deployment, and monitoring for production ML systems.</p>
                        <ul class="list-disc list-inside space-y-2 text-muted-foreground text-lg">
                            <li>Integrated <strong>MLflow</strong> for experiment tracking and model registry.</li>
                            <li>Reduced deployment time by <strong>70%</strong> through CI/CD automation.</li>
                            <li>Implemented model versioning and rollback capabilities.</li>
                            <li>Built monitoring dashboards for model performance and drift detection.</li>
                            <li>Enabled A/B testing framework for model comparison in production.</li>
                        </ul>`
                },
                {
                    id: "llm-agent",
                    title: "Autonomous LLM Agent Framework",
                    desc: "Multi-agent system with tool calling, memory, and reasoning. Handles complex multi-step tasks autonomously.",
                    tags: ["LangChain", "OpenAI", "Pinecone", "Python"],
                    icon: "bot",
                    class: "",
                    img: "images/agent.jpg",
                    gradient: "from-violet-500 to-fuchsia-600",
                    details: `
                        <h3 class="text-2xl font-bold mb-4">Project Overview</h3>
                        <p class="text-lg text-muted-foreground leading-relaxed mb-8">Developed a framework for building autonomous LLM agents capable of tool use, memory management, and multi-step reasoning for complex task automation.</p>
                        <ul class="list-disc list-inside space-y-2 text-muted-foreground text-lg">
                            <li>Built agent architecture using <strong>LangChain</strong> for orchestration.</li>
                            <li>Implemented tool calling capabilities for external API integration.</li>
                            <li>Designed memory system with <strong>Pinecone</strong> for long-term context retention.</li>
                            <li>Created reasoning loops for iterative problem-solving.</li>
                            <li>Enabled multi-agent collaboration for distributed task execution.</li>
                        </ul>`
                }
            ],
            experience: [
                {
                    id: "radiansys",
                    company: "Radiansys Tech",
                    role: "AI Engineer",
                    date: "Aug 2025 - Present",
                    img: "images/radiansys.jpg",
                    gradient: "from-indigo-500 to-blue-600",
                    details: `
                        <h3 class="text-2xl font-bold mb-4">Role & Responsibilities</h3>
                        <p class="text-lg text-muted-foreground leading-relaxed mb-6">Working on an AI-powered video editor application with intelligent video enhancement.</p>
                        <ul class="space-y-4 text-muted-foreground text-lg">
                            <li class="flex gap-3"><i data-lucide="check-circle" class="w-6 h-6 text-accent shrink-0"></i> Implemented VideoGPT-based models.</li>
                            <li class="flex gap-3"><i data-lucide="check-circle" class="w-6 h-6 text-accent shrink-0"></i> Integrated multi-modal AI features.</li>
                        </ul>`
                },
                {
                    id: "finagg",
                    company: "FinAGG Tech",
                    role: "AI/ML Engineer",
                    date: "May 2025 - Aug 2025",
                    img: "images/finagg.jpg",
                    gradient: "from-orange-500 to-red-500",
                    details: `
                        <h3 class="text-2xl font-bold mb-4">Role & Responsibilities</h3>
                        <p class="text-lg text-muted-foreground leading-relaxed mb-6">Led development of voice bot platform with continuous call experience.</p>
                        <ul class="space-y-4 text-muted-foreground text-lg">
                            <li class="flex gap-3"><i data-lucide="check-circle" class="w-6 h-6 text-accent shrink-0"></i> Designed Invoice AI module for PDF parsing.</li>
                            <li class="flex gap-3"><i data-lucide="check-circle" class="w-6 h-6 text-accent shrink-0"></i> Reduced release cycle by 30% via CI/CD.</li>
                        </ul>`
                },
                {
                    id: "deepforrest",
                    company: "DeepForrest AI",
                    role: "Assoc. AI Engineer",
                    date: "Jun 2024 - May 2025",
                    img: "images/deepforrest.jpg",
                    gradient: "from-teal-500 to-green-600",
                    details: `
                        <h3 class="text-2xl font-bold mb-4">Role & Responsibilities</h3>
                        <p class="text-lg text-muted-foreground leading-relaxed mb-6">Built and optimized ETL pipelines to process large-scale datasets (10TB+).</p>
                        <ul class="space-y-4 text-muted-foreground text-lg">
                            <li class="flex gap-3"><i data-lucide="check-circle" class="w-6 h-6 text-accent shrink-0"></i> Reduced inference time by 25% via optimization.</li>
                            <li class="flex gap-3"><i data-lucide="check-circle" class="w-6 h-6 text-accent shrink-0"></i> Engineered RAG systems with vector DBs.</li>
                        </ul>`
                }
            ]
        };

        // =========================================
        // 2. UI RENDERING
        // =========================================
        function renderPortfolio() {
            const projectGrid = document.getElementById('projects-grid');
            const expGrid = document.getElementById('experience-grid');

            if (!projectGrid) {
                console.error('projects-grid element not found');
                return;
            }
            if (!expGrid) {
                console.error('experience-grid element not found');
                return;
            }

            projectGrid.innerHTML = '';
            expGrid.innerHTML = '';

            // Render Projects
            if (portfolioData && portfolioData.projects) {
                portfolioData.projects.forEach(p => {
                    const card = document.createElement('div');
                    card.className = `bento-card p-8 flex flex-col justify-between group bg-gradient-to-br from-card to-muted/50 ${p.class}`;
                    card.style.opacity = '0'; // Start hidden for GSAP animation
                    card.onclick = () => openDetail(p.id, 'project');

                    card.innerHTML = `
                        <div class="relative z-10">
                            <div class="flex justify-between items-start mb-6">
                                <div class="p-3 bg-blue-50 dark:bg-blue-900/20 rounded-xl">
                                    <i data-lucide="${p.icon}" class="w-8 h-8 text-blue-600 dark:text-blue-400"></i>
                                </div>
                                ${p.id === 'rag' ? '<span class="px-3 py-1 rounded-full border border-border text-xs font-mono bg-background">Production</span>' : ''}
                            </div>
                            <h3 class="text-2xl font-bold mb-2 group-hover:text-accent transition-colors">${p.title}</h3>
                            <p class="text-muted-foreground mb-6 max-w-md">${p.desc}</p>
                            <div class="flex flex-wrap gap-2">
                                ${p.tags.map(tag => `<span class="px-2 py-1 bg-muted rounded-md text-xs font-mono text-muted-foreground">${tag}</span>`).join('')}
                            </div>
                        </div>
                        <div class="absolute right-0 bottom-0 w-64 h-64 bg-gradient-to-tl from-blue-500/10 to-transparent rounded-tl-full translate-y-10 translate-x-10 group-hover:translate-y-5 group-hover:translate-x-5 transition-transform duration-500"></div>
                    `;
                    projectGrid.appendChild(card);
                });

                // Render Tech Stack
                const techCard = document.createElement('div');
                techCard.className = "bento-card md:col-span-3 p-8 flex flex-col justify-center";
                techCard.id = "about";
                techCard.style.opacity = '0'; // Start hidden for GSAP animation
                techCard.innerHTML = `
                     <h3 class="text-lg font-bold mb-6 flex items-center gap-2"><i data-lucide="cpu" class="w-5 h-5"></i> Engineering Arsenal</h3>
                     <div class="flex flex-wrap gap-x-8 gap-y-4 opacity-80">
                         <div class="flex items-center gap-2 font-mono text-sm text-muted-foreground"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/python/python-original.svg" class="w-5 h-5 grayscale hover:grayscale-0 transition-all"/> Python</div>
                         <div class="flex items-center gap-2 font-mono text-sm text-muted-foreground"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/pytorch/pytorch-original.svg" class="w-5 h-5 grayscale hover:grayscale-0 transition-all"/> PyTorch</div>
                         <div class="flex items-center gap-2 font-mono text-sm text-muted-foreground"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/tensorflow/tensorflow-original.svg" class="w-5 h-5 grayscale hover:grayscale-0 transition-all"/> TensorFlow</div>
                         <div class="flex items-center gap-2 font-mono text-sm text-muted-foreground"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/docker/docker-original.svg" class="w-5 h-5 grayscale hover:grayscale-0 transition-all"/> Docker</div>
                         <div class="flex items-center gap-2 font-mono text-sm text-muted-foreground"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/amazonwebservices/amazonwebservices-original-wordmark.svg" class="w-5 h-5 grayscale hover:grayscale-0 transition-all"/> AWS</div>
                         <div class="flex items-center gap-2 font-mono text-sm text-muted-foreground"><i data-lucide="database" class="w-4 h-4"></i> SQL</div>
                     </div>
                `;
                projectGrid.appendChild(techCard);
            }

            // Render Experience
            if (portfolioData && portfolioData.experience) {
                portfolioData.experience.forEach(e => {
                    const card = document.createElement('div');
                    card.className = "bento-card p-6 flex flex-col justify-between group hover:border-accent transition-all cursor-pointer";
                    card.style.opacity = '0'; // Start hidden for GSAP animation
                    card.onclick = () => openDetail(e.id, 'experience');

                    card.innerHTML = `
                        <div>
                            <div class="flex items-center justify-between mb-4">
                                <div class="w-10 h-10 rounded-lg bg-gradient-to-br ${e.gradient} opacity-80 flex items-center justify-center text-white font-bold shadow-lg">
                                    ${e.company[0]}
                                </div>
                                <i data-lucide="arrow-up-right" class="w-5 h-5 text-muted-foreground group-hover:text-accent transition-colors"></i>
                            </div>
                            <h3 class="text-lg font-bold mb-1">${e.company}</h3>
                            <div class="text-sm font-medium text-accent mb-2">${e.role}</div>
                            <p class="text-xs text-muted-foreground font-mono">${e.date}</p>
                        </div>
                    `;
                    expGrid.appendChild(card);
                });
            }

            // Initialize Lucide icons after a short delay to ensure DOM is ready
            setTimeout(() => {
                if (typeof lucide !== 'undefined') {
                    lucide.createIcons();
                }
            }, 100);
        }

        // =========================================
        // 3. DETAIL PAGE LOGIC
        // =========================================
        function openDetail(id, type) {
            let data;
            if (type === 'project') {
                data = portfolioData.projects.find(p => p.id === id);
            } else {
                data = portfolioData.experience.find(e => e.id === id);
                if (data) data.title = `${data.role} @ ${data.company}`;
            }

            if (!data) return;

            const content = document.getElementById('detail-content');
            const fallbackGradient = `bg-gradient-to-br ${data.gradient}`;

            content.innerHTML = `
                <div class="back-btn" onclick="closeDetail()">
                    <i data-lucide="arrow-left" class="w-4 h-4"></i> Back to Overview
                </div>

                <div class="w-full h-64 md:h-80 rounded-3xl overflow-hidden mb-10 relative group shadow-2xl">
                    <div class="absolute inset-0 ${fallbackGradient} opacity-30 group-hover:opacity-40 transition-opacity"></div>
                    <div class="absolute inset-0 flex items-center justify-center pointer-events-none">
                        <h1 class="text-4xl md:text-6xl font-bold text-foreground/10 uppercase tracking-widest select-none">${data.id}</h1>
                    </div>
                    <img src="${data.img}" 
                         class="w-full h-full object-cover object-center relative z-10 transition-transform duration-700 hover:scale-105" 
                         onerror="this.style.display='none'; this.previousElementSibling.style.opacity='1'; this.previousElementSibling.previousElementSibling.style.opacity='1';"
                    />
                </div>
                
                <div class="animate-fade-in-up">
                    <div class="flex flex-col md:flex-row md:items-end justify-between mb-8 border-b border-border pb-8 gap-4">
                        <div>
                            <h1 class="text-3xl md:text-5xl font-bold mb-2 tracking-tight">${data.title}</h1>
                            <div class="text-lg text-muted-foreground font-mono flex items-center gap-2">
                                <span class="w-2 h-2 rounded-full bg-accent"></span> 
                                ${data.date || "Recent Work"}
                            </div>
                        </div>
                        ${data.tags ? `<div class="flex flex-wrap gap-2">${data.tags.map(t => `<span class="px-3 py-1 rounded-full border border-border bg-muted/50 text-sm font-medium">${t}</span>`).join('')}</div>` : ''}
                    </div>
                    <div class="prose prose-lg dark:prose-invert max-w-none">
                        ${data.details}
                    </div>
                </div>
            `;

            document.getElementById('detail-overlay').classList.add('open');
            document.body.style.overflow = 'hidden';
            lucide.createIcons();
        }

        function closeDetail() {
            document.getElementById('detail-overlay').classList.remove('open');
            document.body.style.overflow = 'auto';
        }

        // =========================================
        // 4. INIT
        // =========================================

        document.addEventListener('DOMContentLoaded', () => {
            renderPortfolio();
            lucide.createIcons();

            // GSAP Entrance - wait for cards to be rendered
            setTimeout(() => {
                const cards = document.querySelectorAll('.bento-card');
                if (cards.length > 0 && typeof gsap !== 'undefined') {
                    // Set initial state for cards
                    gsap.set(".bento-card", { y: 50, opacity: 0 });

                    const tl = gsap.timeline();
                    tl.from("aside", { x: -50, opacity: 0, duration: 1, ease: "power3.out" })
                        .from("h1", { y: 50, opacity: 0, duration: 1, ease: "power3.out" }, "-=0.5")
                        .to(".bento-card", {
                            y: 0,
                            opacity: 1,
                            duration: 0.8,
                            stagger: 0.1,
                            ease: "power2.out"
                        }, "-=0.5");
                } else {
                    // Fallback: ensure cards are visible if GSAP fails or cards don't exist
                    cards.forEach(card => {
                        card.style.opacity = '1';
                        card.style.visibility = 'visible';
                        card.style.transform = 'translateY(0)';
                    });
                }
            }, 200);
        });

        // Theme Toggle
        const toggleButton = document.getElementById('theme-toggle');
        const htmlElement = document.documentElement;
        toggleButton.addEventListener('click', () => {
            htmlElement.classList.toggle('dark');
            updateThreeJSColor();
        });

        // Three.js Background
        let scene, camera, renderer, particles;
        function initThreeJS() {
            const container = document.getElementById('canvas-container');
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            container.appendChild(renderer.domElement);

            const geometry = new THREE.BufferGeometry();
            const count = 800;
            const posArray = new Float32Array(count * 3);
            for (let i = 0; i < count * 3; i += 3) {
                posArray[i] = (Math.random() - 0.5) * 40;
                posArray[i + 1] = (Math.random() - 0.5) * 40;
                posArray[i + 2] = (Math.random() - 0.5) * 20;
            }
            geometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
            const material = new THREE.PointsMaterial({ size: 0.05, color: 0x000000, transparent: true, opacity: 0.4 });
            particles = new THREE.Points(geometry, material);
            scene.add(particles);
            camera.position.z = 15;

            let mouseX = 0, mouseY = 0;
            document.addEventListener('mousemove', (e) => {
                mouseX = e.clientX / window.innerWidth - 0.5;
                mouseY = e.clientY / window.innerHeight - 0.5;
            });

            const animate = () => {
                requestAnimationFrame(animate);
                particles.rotation.y += 0.001;
                particles.rotation.x += (mouseY * 0.5 - particles.rotation.x) * 0.05;
                particles.rotation.y += (mouseX * 0.5 - particles.rotation.y) * 0.05;
                renderer.render(scene, camera);
            };
            animate();

            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });
        };

        function updateThreeJSColor() {
            if (!particles) return;
            const isDark = document.documentElement.classList.contains('dark');
            particles.material.color.setHex(isDark ? 0xffffff : 0x000000);
            particles.material.opacity = isDark ? 0.3 : 0.4;
        };

        initThreeJS();

        // Smooth Scroll
        const lenis = new Lenis();
        function raf(time) {
            lenis.raf(time);
            requestAnimationFrame(raf);
        }
        requestAnimationFrame(raf);

    </script>
</body>

</html>